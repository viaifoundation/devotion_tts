# requirements-cosy-spark.txt
# CosyVoice requirements for NVIDIA Spark (DGX/Container) environment.
# Note: Torch/Torchaudio/Torchvision are intentionally excluded to use the container's optimized versions.

modelscope>=1.18.0          # Core framework
funasr>=1.0.0               # Speech frontend
HyperPyYAML>=1.2.0          # Required for CosyVoice configuration
peft                        # Adapters (removes diffusers warning)
addict                      # Required by modelscope
datasets<4.0.0              # Avoid import errors
# torch                     # Use container-provided PyTorch
# torchaudio                # Use container-provided Torchaudio
# torchvision               # Use container-provided Torchvision
pydub>=0.25.1               # Audio concatenation & MP3 export
numpy>=1.26.0               # Array processing
Pillow>=10.0.0              # Fixes "No module named 'PIL'"
PyYAML                      # Config parsing
tqdm                        # Progress bars
requests                    # Model download
simplejson                  # Faster JSON (used by modelscope)
sortedcontainers            # Fixes current error (required by modelscope jsonplus)
inflect                     # Required by CosyVoice text normalization
transformers>=4.40.0        # Required for Qwen2ForCausalLM
accelerate                  # Required for loading models efficiently
sentencepiece               # Required for tokenizer
scipy                       # Common audio dependency
lightning                   # Required for CosyVoice flow matching
pyworld                     # Required for CosyVoice dataset processing
