import subprocess
from pydub import AudioSegment

text = """
弟兄姊妹们：今天是教会40天的“爱在行动”的灵修系列的第25天，分享的是第五周（6/2-6/6）分享的系列主题《亲子关系》当中的最后的第5篇《有其父必有其子》。

一位儿子长大后成为医生，接受采访时被问到：“为什么选择医学？”他回答说：“因为我看到我父亲每天无私地照顾病人，从不计较回报。我只是想像他一样。”

孩子也许不会立刻听你说什么，但他们可能会模仿你怎么活。中国有句古话，“有其父必有其子”。看看硅谷好多华人孩子的下一代学习计算机技术，不能说没有关联。

灵修经文：
行为纯正的义人，他的儿女是有福的。——箴言二十章第七节

释经反思：
箴言二十章第七节指出，“行为纯正”的父亲，不仅自己蒙福，也使儿女得着恩惠。这并不是说只要父亲义，孩子就自动成圣，而是强调：父亲的生命榜样，对下一代的属灵影响深远。

“行为纯正”的意思包括诚实、敬畏神、言行一致。希伯来原文 tam 含有“完全”和“正直”的意思。有其父必有其子！一个义人的生活，会给家庭带来稳固的根基与属灵的传承。

英文圣经 NASB 版本这样翻译：
“A righteous man who walks in his integrity — how blessed are his sons after him.”
其中 Integrity（正直）是我们特别珍惜的字眼。这也是我特别鼓励各位父母在自己的家庭价值观盾牌中，坚持保留使用“Integrity 属灵诚实正直”这个词的原因。

现实应用：
在现代社会，许多孩子的价值观、情绪管理与属灵习惯，往往都是从父母身上“吸收”来的。尤其是父亲在家的态度、对神的敬虔与对人的尊重，会成为孩子日后模仿的蓝图。

你也许不觉得自己很属灵，但你的真实、悔改与坚持，就是孩子眼中的属灵遗产。

今日行动建议：
思考：我希望我的孩子或属灵孩子学到我生命中的哪一点？
如果要带领全家做家庭价值观盾牌，试着和孩子一同解释 Integrity 的重要，并尽量保留此项。
主动与孩子或门徒分享你属灵生命的一个挣扎，以及神如何带你突破的故事。
若你过去曾在榜样上失职，今天向神祷告，求祂重新塑造你成为义人。

祷告：
亲爱的主，求祢帮助我活出配得上被模仿的生命。
让我在言语、行为、态度上，都能显出敬虔与真实。
愿我成为孩子眼中的榜样，带领他们更靠近祢。
即使我软弱失败，求祢用恩典修补，用圣灵继续成全。
奉主耶稣的名祷告，阿们。
"""

# 保存文字到临时文本文件
with open("devotion.txt", "w") as f:
    f.write(text)

# 使用 macOS 的 say 命令生成 AIFF 音频
aiff_path = "devotion.aiff"
subprocess.run(["say", "-v", "Ting-Ting", "-f", "devotion.txt", "-o", aiff_path])

# 转换 AIFF 为 MP3
mp3_path = "devotion_day25.mp3"
audio = AudioSegment.from_file(aiff_path, format="aiff")
audio.export(mp3_path, format="mp3")

print(f"✅ 已生成 MP3 文件: {mp3_path}")

